<template>
  <section class="announcement-management">
    <h2>ğŸ“¢ å…¬å‘Šç®¡ç†</h2>
    <textarea v-model="newAnnouncement" placeholder="è¯·è¾“å…¥å…¬å‘Šå†…å®¹..." class="announcement-textarea"></textarea>
    <button @click="updateAnnouncement" class="update-announcement-btn">ğŸ“ æ›´æ–°å…¬å‘Š</button>
  </section>
</template>

<script setup>
import { ref } from 'vue';
import api from '../api/api.js'; // å¼•å…¥å°è£…å¥½çš„ API æ¨¡å—

const newAnnouncement = ref('');

// æ›´æ–°å…¬å‘Š
const updateAnnouncement = async () => {
  try {
    await api.post('/announcements', { content: newAnnouncement.value });
    alert('å…¬å‘Šæ›´æ–°æˆåŠŸ');
    newAnnouncement.value = ''; // æ¸…ç©ºè¾“å…¥æ¡†
  } catch (error) {
    console.error('æ›´æ–°å…¬å‘Šå¤±è´¥:', error);
    alert('æ›´æ–°å…¬å‘Šå¤±è´¥');
  }
};
</script>

<style scoped>
.announcement-management {
  display: flex;
  flex-direction: column;
  align-items: center;  /* å±…ä¸­å¯¹é½å†…å®¹ */
  justify-content: center;  /* å‚ç›´å±…ä¸­ */
  max-width: 1400px;
  margin: 0 auto 2rem;  /* æ°´å¹³å±…ä¸­å¹¶è®¾ç½®åº•éƒ¨é—´è· */
  padding: 1rem;
  background-color: #121212;
  border-radius: 8px;
}

h2 {
  color: #00d9ff;
  font-size: 1.5rem;  /* è°ƒæ•´å­—ä½“å¤§å° */
  margin-bottom: 1rem;
  text-align: center;
}

.announcement-textarea {
  width: 100%;
  height: 150px;
  padding: 0.8rem;
  margin-bottom: 1rem;
  border: 1px solid #555;
  border-radius: 6px;
  background-color: #333;
  color: #e0e0e0;
  resize: none;
}

.announcement-textarea:focus {
  border-color: #1DB954;
}

.update-announcement-btn {
  padding: 8px 16px;  /* è°ƒæ•´æŒ‰é’®å†…è¾¹è· */
  background-color: #3498db;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;  /* è°ƒæ•´æŒ‰é’®å­—ä½“å¤§å° */
  margin-top: 1rem;
}

.update-announcement-btn:hover {
  background-color: #2980b9;
  opacity: 0.9;
}
</style>